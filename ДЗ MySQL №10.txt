-- 1) Проанализировать какие запросы могут выполняться наиболее часто в 
--    процессе работы приложения и добавить необходимые индексы.

-- а) Одним из самых частых запросов будет поиск конкретного человека 
--    среди всех пользователей социальной сети. Поиск будет производится 
--    по имени и фамилии человека

DESC users;

CREATE INDEX users_first_name_last_name_idx ON users (first_name, last_name);


-- б) Также очень частым будут запросы по поиску медиа контента. Просмотр фото, 
--    поиск видео и т.д. Также учитываем, что записей в таблице media может быть в 
--    несколько раз больше пользователей, т.к. каждый пользователь обычно имеет 
--    несколько личных медиафайлов. Поэтому размер таблицы media ожидается очень большим.

DESC media;

CREATE INDEX media_filename_idx ON media (filename);

-- в) Также очень частым будут запросы на поиск контента, которому пользователи ставят лайки
-- чтобы вернуться к нему позже.

DESC likes;

CREATE INDEX likes_user_id_target_id_idx ON likes(user_id, target_id);